syntax="proto3";

package allocator.v1;

service Allocator {
    rpc AllocateMemory(MemoryRequest) returns (MemoryReply);
    rpc FreeSharedMemory(FreeRequest) returns (FreeReply);
}

message MemoryRequest {
    uint64 size = 1;
}

message MemoryReply {
    string shm_name = 1;
    repeated ChunkInfo chunks = 2;
    uint64 total_size = 3;
}

message ChunkInfo {
    uint64 offset = 1;
    uint64 size = 2;
}

message FreeRequest {
    repeated uint64 offset = 1;
}

message FreeReply {
    
}